---
globs: *.service.ts
description: Service í´ë˜ìŠ¤ ì‘ì„± íŒ¨í„´ê³¼ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤
---

# Service íŒ¨í„´ ê°€ì´ë“œ

## ğŸ—ï¸ ê¸°ë³¸ êµ¬ì¡°

[movies.service.ts](mdc:src/movies/movies.service.ts)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”:

```typescript
import { Injectable, NotFoundException } from '@nestjs/common';
import { CreateFeatureDto } from './dtos/create-feature.dto';
import { UpdateFeatureDto } from './dtos/update-feature.dto';

@Injectable()
export class FeatureService {
  private features: Feature[] = [];

  getAll(): Feature[] {}
  getOne(id: string): Feature {}
  create(data: CreateFeatureDto): Feature {}
  patch(id: string, data: UpdateFeatureDto): Feature {}
  remove(id: string): boolean {}
}
```

## ğŸ¯ ë©”ì„œë“œ ëª…ëª… ê·œì¹™

- **ì¡°íšŒ**: `getAll()`, `getOne(id)`, `findBy...()`
- **ìƒì„±**: `create(data)`
- **ìˆ˜ì •**: `patch(id, data)` ë˜ëŠ” `update(id, data)`
- **ì‚­ì œ**: `remove(id)` ë˜ëŠ” `delete(id)`
- **ê²€ìƒ‰**: `search(criteria)`

## ğŸš¨ ì—ëŸ¬ ì²˜ë¦¬ íŒ¨í„´

```typescript
getOne(id: string): Feature {
  const feature = this.features.find(item => item.id === Number(id));
  if (!feature) {
    throw new NotFoundException(`Feature with ID ${id} not found`);
  }
  return feature;
}
```

## ğŸ”„ ì—…ë°ì´íŠ¸ íŒ¨í„´ (PartialType ì‚¬ìš© ì‹œ)

```typescript
patch(id: string, updateData: UpdateFeatureDto): Feature {
  const feature = this.getOne(id); // ì¡´ì¬ í™•ì¸
  const updatedFeature = { ...feature, ...updateData };
  const index = this.features.findIndex(item => item.id === Number(id));
  this.features[index] = updatedFeature;
  return updatedFeature;
}
```

**ì¤‘ìš”**: PartialTypeì„ ì‚¬ìš©í•˜ë©´ undefined ê°’ë“¤ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë˜ë¯€ë¡œ ë³„ë„ í•„í„°ë§ì´ ë¶ˆí•„ìš”í•©ë‹ˆë‹¤.

## ğŸ“‹ ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤

- í•­ìƒ `@Injectable()` ë°ì½”ë ˆì´í„° ì‚¬ìš©
- ëª…í™•í•œ ì—ëŸ¬ ë©”ì‹œì§€ ì œê³µ
- ë‹¨ì¼ ì±…ì„ ì›ì¹™ ì¤€ìˆ˜
- DTO íƒ€ì… ì‚¬ìš©ìœ¼ë¡œ íƒ€ì… ì•ˆì •ì„± í™•ë³´
- PartialTypeì˜ ìë™ undefined ì²˜ë¦¬ í™œìš©
