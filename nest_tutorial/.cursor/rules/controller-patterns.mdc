---
globs: *.controller.ts
description: Controller ν΄λμ¤ μ‘μ„± ν¨ν„΄κ³Ό REST API μ„¤κ³„ κ°€μ΄λ“
---

# Controller ν¨ν„΄ κ°€μ΄λ“

## π—οΈ κΈ°λ³Έ κµ¬μ΅°

[movies.controller.ts](mdc:src/movies/movies.controller.ts)λ¥Ό μ°Έκ³ ν•μ„Έμ”:

```typescript
import { Controller, Get, Post, Patch, Delete, Param, Body, Query } from '@nestjs/common';

@Controller('features')
export class FeatureController {
  constructor(private readonly featureService: FeatureService) {}

  @Get()
  getAll(): Feature[] {}

  @Get(':id')
  getOne(@Param('id') id: string): Feature {}

  @Post()
  create(@Body() data: CreateFeatureDto): Feature {}

  @Patch(':id')
  update(@Param('id') id: string, @Body() data: UpdateFeatureDto): Feature {}

  @Delete(':id')
  remove(@Param('id') id: string): boolean {}
}
```

## π REST API κ·μΉ™

- `GET /features` - μ „μ²΄ λ©λ΅ μ΅°ν
- `GET /features/:id` - νΉμ • ν•­λ© μ΅°ν
- `POST /features` - μƒ ν•­λ© μƒμ„±
- `PATCH /features/:id` - λ¶€λ¶„ μμ • (κ¶μ¥)
- `PUT /features/:id` - μ „μ²΄ μμ •
- `DELETE /features/:id` - μ‚­μ 

## π” νΉμ μ—”λ“ν¬μΈνΈ

```typescript
@Get('search')
search(@Query('keyword') keyword: string): Feature[] {
  return this.featureService.search(keyword);
}
```

**μ£Όμ**: νΉμ μ—”λ“ν¬μΈνΈλ” λ™μ  λΌμ°νΈ(`:id`)λ³΄λ‹¤ λ¨Όμ € μ„ μ–Έν•΄μ•Ό ν•©λ‹λ‹¤.

## π“ νλΌλ―Έν„° λ°”μΈλ”©

- `@Param('id')`: URL νλΌλ―Έν„°
- `@Body()`: μ”μ²­ λ³Έλ¬Έ
- `@Query('name')`: μΏΌλ¦¬ νλΌλ―Έν„°
- `@Headers('authorization')`: ν—¤λ” κ°’

## π¨ μ—λ¬ μ‘λ‹µ

μ»¨νΈλ΅¤λ¬μ—μ„λ” μ—λ¬ μ²λ¦¬λ¥Ό μ„λΉ„μ¤μ— μ„μ„ν•κ³ , μ μ ν• HTTP μƒνƒ μ½”λ“κ°€ μλ™μΌλ΅ λ°ν™λ©λ‹λ‹¤.

## π“‹ λ² μ¤νΈ ν”„λ™ν‹°μ¤

- μ„λΉ„μ¤ λ΅μ§μ€ μ»¨νΈλ΅¤λ¬μ— κµ¬ν„ν•μ§€ μ•κΈ°
- DTO νƒ€μ… λ…μ‹μ  μ„ μ–Έ
- μμ΅΄μ„± μ£Όμ…μΌλ΅ μ„λΉ„μ¤ μ‚¬μ©
- μΌκ΄€λ μ‘λ‹µ ν•μ‹ μ μ§€
- PATCH vs PUT: λ¶€λ¶„ μμ •μ€ PATCH μ‚¬μ©
